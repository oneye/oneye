var AnchorDialog;tinyMCEPopup.requireLangPack(),AnchorDialog={init:function(a){var b,c,d=document.forms[0];this.editor=a,c=a.dom.getParent(a.selection.getNode(),"A"),v=a.dom.getAttrib(c,"name"),v&&(this.action="update",d.anchorName.value=v),d.insert.value=a.getLang(c?"update":"insert")},update:function(){var a=this.editor,b,c=document.forms[0].anchorName.value;if(!c||!/^[a-z][a-z0-9\-\_:\.]*$/i.test(c)){tinyMCEPopup.alert("advanced_dlg.anchor_invalid");return}tinyMCEPopup.restoreSelection(),this.action!="update"&&a.selection.collapse(1),b=a.dom.getParent(a.selection.getNode(),"A"),b?(b.setAttribute("name",c),b.name=c):a.execCommand("mceInsertContent",0,a.dom.createHTML("a",{name:c,"class":"mceItemAnchor"},"")),tinyMCEPopup.close()}},tinyMCEPopup.onInit.add(AnchorDialog.init,AnchorDialog);